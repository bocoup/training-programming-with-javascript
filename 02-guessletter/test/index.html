<!doctype html>
<html>
<head>
  <meta charset='utf-8'>
  <link rel='stylesheet' href='../vendor/test/mocha.css'>
  <script src='../vendor/test/mocha-1.17.1.js'></script>
  <script src='../vendor/test/chai-1.9.0.js'></script>
  <script src='//localhost:35729/livereload.js'></script>
</head>
<body>
  <div id='hangman' style='display:none'></div>
  <div id='mocha'></div>
  <div id='test'></div>
  <script src='../app/hangman.js'></script>
  <script>
  var expect = chai.expect;
  mocha.setup('bdd');

  describe('Hangman', function() {

    beforeEach(function () {
      guessWord = 'hangman';
      hits = [];
      misses = [];
    });

    describe('validateGuess', function () {
      it('should return true if a guess is valid', function () {
        expect(validateGuess(1)).to.be.false;
        expect(validateGuess('')).to.be.false;
        expect(validateGuess(' ')).to.be.false;
        expect(validateGuess('aa')).to.be.false;
        expect(validateGuess('c')).to.be.true;
        expect(validateGuess('a')).to.be.true;
      });
    });

    describe('guess', function () {
      it('should add a valid guess to the hits array if it does appear in the guessWord', function () {
        guess('z');
        expect(hits).to.have.length(0);
        guess('a');
        expect(hits[0]).to.equal('a');
        guess('a');
        expect(hits).to.have.length(1);
      });

      it('should add a valid guess to the missed array if it does not appear in the guessWord', function () {
        guess('z');
        expect(hits).to.have.length(0);
        guess('a');
        expect(hits[0]).to.equal('a');
        guess('a');
        expect(hits).to.have.length(1);
      });

      it('should return true if the guess was a valid hit', function () {
        expect(guess('a')).to.be.true;
        expect(guess('a')).to.be.false;
      });
    });
  });
  mocha.run();
  </script>
</body>
</html>
